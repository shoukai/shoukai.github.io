---
layout: post
title:  "读书笔记：亿级流量网站架构核心技术"
subtitle: "高可用、高并发系统设计"
date:   2018-02-01 8:00:00
author: "Shoukai Huang"
header-img: 'skblog.duiduiche.com/f4d6469ceef0c79e8615cd6e722a7770.jpg'
header-mask: 0.4
tags: 读书笔记 架构
---

# 《亿级流量网站架构核心技术》笔记

### 一些原则

**墨菲定律**

1. 任何事情都没有表面看起来那么简单；
2. 所有的事都会比你预计的时间长；
3. 可能出错的事总会出错；
4. 如果你担心某种情况发生，那么它就更有可能发生；

**康威定律**

1. 系统架构是公司组织架构的反映；
2. 应该按照业务闭环进行系统拆分/组织架构划分，实现闭环/高内聚/低耦合，减少沟通成本；
3. 如果沟通出现问题，那么就应该考虑进行系统和组织架构的调整；
4. 在合适时机进行系统拆分，不要一开始就把系统/服务拆得非常细，虽然闭环，但是每个人维护的系统多，维护成本高

**高并发原则**

1. 无状态
2. 拆分
3. 服务化
4. 消息队列
5. 数据异构
6. 缓存银弹
7. 并发化

**高可用原则**

1. 降级
2. 限流
3. 切流量
4. 可回滚

**业务设计原则**

1. 防重设计
2. 幂等设计
3. 流程可定义
4. 状态与状态机
5. 后台系统操作可反馈
6. 后台系统审批化
7. 文档和注释
8. 备份

### 思维导图

**高可用**

![架构-高可用](http://skblog.duiduiche.com/架构-高可用.png){:height="100%" width="100%"}

**高并发**

![架构-高并发](http://skblog.duiduiche.com/架构-高并发.png){:height="100%" width="100%"}

